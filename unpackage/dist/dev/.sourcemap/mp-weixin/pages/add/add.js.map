{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/fengcaizhi/Desktop/落子无悔/程序/小程序all/imperialPalace/pages/add/add.vue?ad92","webpack:////Users/fengcaizhi/Desktop/落子无悔/程序/小程序all/imperialPalace/pages/add/add.vue?4f8a","webpack:////Users/fengcaizhi/Desktop/落子无悔/程序/小程序all/imperialPalace/pages/add/add.vue?8a8a","uni-app:///pages/add/add.vue","webpack:////Users/fengcaizhi/Desktop/落子无悔/程序/小程序all/imperialPalace/pages/add/add.vue?0d00","webpack:////Users/fengcaizhi/Desktop/落子无悔/程序/小程序all/imperialPalace/pages/add/add.vue?8c95"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,sF,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,YAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+1B,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuCn3B;AACA,MADA,kBACA;AACA;AACA;AACA,iBAFA;AAGA;AACA,0BAJA;AAKA;AACA,yBANA;AAOA;AACA,uBARA;AASA;AACA,eAVA;AAWA;AACA,cAZA;AAaA,wBAbA;AAcA;AACA,yBAfA;AAgBA;AACA,8BAjBA;AAkBA;AACA,mBAnBA;AAoBA;AACA,sDArBA;AAsBA;AACA,4BAvBA;AAwBA,uBAxBA;AAyBA,wBAzBA;AA0BA;AACA,uBA3BA;AA4BA,cA5BA;;AA8BA,GAhCA;AAiCA;AACA,WADA,qBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA,OATA;AAUA,KAZA;AAaA,sBAbA,8BAaA,CAbA,EAaA;AACA;AACA;AACA;AACA;AACA,KAlBA;AAmBA;AACA,eApBA,uBAoBA,CApBA,EAoBA;AACA;AACA,KAtBA;AAuBA,cAvBA,sBAuBA,CAvBA,EAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA/BA;AAgCA,cAhCA,wBAgCA;AACA;AACA;AACA,gBADA;AAEA,gCAFA;AAGA,6BAHA;AAIA,eAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAbA;;AAeA,KAjDA;AAkDA,eAlDA,uBAkDA,CAlDA,EAkDA;AACA;AACA,0BADA;AAEA,mCAFA;;AAIA,KAvDA;AAwDA,UAxDA,oBAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAPA,CAOA;AACA,KAhEA;AAiEA,iBAjEA,2BAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,oBAFA;;AAIA;AACA;AACA;AACA,KA/EA;AAgFA,eAhFA,uBAgFA,eAhFA,EAgFA,GAhFA,EAgFA,CAhFA,EAgFA,OAhFA,EAgFA,KAhFA,EAgFA;AACA;AACA;AACA;AACA,+BADA;AAEA,oBAFA;AAGA,yDAHA;AAIA;AACA,0BADA,EAJA;;AAOA,eAPA,mBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA,2BADA;AAEA,iCAFA;;AAIA;AACA;AACA,WAPA,MAOA;AACA;AACA;AACA,gFADA,CACA;AACA,aAFA,MAEA;AACA,sBADA,CACA;AACA;AACA;AACA;AACA,eAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAhCA;AAiCA,YAjCA,gBAiCA,GAjCA,EAiCA;AACA;AACA;AACA,SApCA;;AAsCA,KAzHA;AA0HA,gBA1HA,wBA0HA,eA1HA,EA0HA,OA1HA,EA0HA,KA1HA,EA0HA,IA1HA,EA0HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,uBAFA;;AAIA;AACA;AACA,mCADA;;AAGA,SAJA,EAIA,GAJA;AAKA;AACA,OAnBA,EAmBA;AACA;AACA,OArBA;AAsBA,KArKA;AAsKA,aAtKA,uBAsKA;AACA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA;AACA;AACA,4BADA;AAEA,0BAFA;;AAIA,KAlLA;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA5LA;AA6LA,cA7LA,wBA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9MA;AA+MA,oBA/MA,8BA+MA;AACA;AACA,KAjNA,EAjCA;;AAoPA,SApPA,qBAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA;AACA,GApQA,E;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAwtC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACA5uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/add/add.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/add/add.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./add.vue?vue&type=template&id=f869476c&\"\nvar renderjs\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/add/add.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=f869476c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"main\">\n\t\t<input class=\"title\" type=\"text\" placeholder=\"好的标题是点赞的开始~\" v-model=\"title\"/>\n\t\t<view style=\"width: 100%;height: 2rpx;background: #ead6ee;\"></view>\n\t\t<textarea type=\"text\" class=\"dynamic_text\" placeholder=\"添加正文\" v-model=\"text\"></textarea>\n\t\t<view>\n\t\t\t<view class=\"topic\">\n\t\t\t\t<view class=\"recommend_text1\"><view>添加话题</view></view>\n\t\t\t\t\t<view class=\"topic_one_container\">\n\t\t\t\t\t\t<text v-for=\"(item, index) in picker\" :key=\"index\" class=\"topic_one\" @click.stop=\"click_topic\" :style=\"{backgroundColor: (item==is_picker) ?'#fad396':''}\" :data-text=\"item\">\n\t\t\t\t\t\t\t#{{item}}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</view> \n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"local\">\n\t\t\t\t<view class=\"recommend_text2\"><view>添加地点</view></view>\n\t\t\t\t\t<view class=\"local_one_container\">\n\t\t\t\t      <text v-for=\"(item, index) in local_info\" :key=\"index\" class=\"local_one\" @click.stop=\"click_site\" :style=\"{backgroundColor:item.is_click?'#fad396':'#00000000'}\" :data-text=\"item.text\">#{{item.text}}</text> \n\t\t\t\t    </view> \n\t\t\t</view>\n\t\t\t<view class=\"imageContainer\">\n\t\t\t    <image v-for=\"(item, index) in picture\" :key=\"id\" :src=\"item\" @click.stop=\"preview_img\" :id=\"item\" v-for-index=\"index\" @load=\"set_title_img_size\" :data-index=\"index\" class=\"nowImage\"></image>\n\t\t\t  <image v-if=\"img_is_no_full\" src=\"http://travel.rykerfeng.cn/wechatsoft/drawable/add_img.png\" @click.stop=\"choose_img\" class=\"add_img\"></image>\n\t\t\t  </view>\n\t\t\t  <view class=\"reset_choose\" @click=\"reset_choose_img\">重新选择图片</view>\n\t\t\t  <loading :hidden=\"loadingHidden\">正在上传...</loading>\n\t\t\t  <view class=\"finish\">\n\t\t\t    <view @click=\"upload\" class=\"go_button\">发布帖子</view>\n\t\t\t    <view class=\"draft\">\n\t\t\t      <image src=\"http://travel.rykerfeng.cn/wechatsoft/drawable/draft.png\"></image>\n\t\t\t      <text>存草稿</text>\n\t\t\t    </view>\n\t\t\t  </view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t//照片在本地显示的路径\n\t\t\t\tpicture:[],\n\t\t\t\t//照片是否满9张了\n\t\t\t\timg_is_no_full:true,\n\t\t\t\t//是否隐藏加载中动画\n\t\t\t\tloadingHidden:true,\n\t\t\t\t//用户信息\n\t\t\t\tuser_info:Object,\n\t\t\t\t//标题信息\n\t\t\t\ttitle:'',\n\t\t\t\t//文本信息\n\t\t\t\ttext:'',\n\t\t\t\ttitle_img_size:'',\n\t\t\t\t//图片在服务器上的地址\n\t\t\t\tserver_img_path:[],\n\t\t\t\t//是否上传成功\n\t\t\t\tis_upload_success:false,\n\t\t\t\t//景点信息\n\t\t\t\tplace:Object,\n\t\t\t\t//滑动选择器的选项\n\t\t\t\tpicker:['美食探店','特色产品','交通出行','民宿酒店','旅游景点'],\n\t\t\t\t//滑动选择器显示的内容\n\t\t\t\tdefault_picker:'美食探店',\n\t\t\t\tis_picker:'美食探店',\n\t\t\t\tlocal_info:Object,\n\t\t\t\t// hidden_diy_mark:true,\n\t\t\t\tdiy_mark_text:'',\n\t\t\t\tmark: ''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetMark() {\n\t\t\t\tthis.$api.get_mark().then((res) => {\n\t\t\t\t\tif(res) {\n\t\t\t\t\t\tfor(const i in res) {\n\t\t\t\t\t\t\tres[i].is_click = false\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.mark = res\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"获取标签信息错误\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tset_title_img_size(e) {\n\t\t\t\tif(e.target.dataset.index == 0){\n\t\t\t\t      let title_img_size = String(e.detail.width)+','+String(e.detail.height);\n\t\t\t\t      this.title_img_size = title_img_size\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 挑选颜色\n\t\t\tclick_topic(e) {\n\t\t\t\tthis.is_picker = e.target.dataset.text\n\t\t\t},\n\t\t\tclick_site(e) {\n\t\t\t\tconst local_info = this.local_info;\n\t\t\t\tfor(const i in local_info){\n\t\t\t\t    if(local_info[i].text == e.target.dataset.text){\n\t\t\t\t\t\tlocal_info[i].is_click = !local_info[i].is_click;\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\tthis.local_info = local_info\n\t\t\t},\n\t\t\tchoose_img() {\n\t\t\t\tconst that = this\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 9,\n\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\tsourceType: ['album'],\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif(res.tempFilePaths.length>=9) {\n\t\t\t\t\t\t\tthat.img_is_no_full = false\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst picture = that.picture\n\t\t\t\t\t\tfor(const i in res.tempFilePaths) {\n\t\t\t\t\t\t\tpicture.push(res.tempFilePaths[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthat.picture = picture\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tpreview_img(e) {\n\t\t\t\tuni.previewImage({\n\t\t\t\t\turls: this.picture,\n\t\t\t\t\tcurrent:e.currentTarget.id\n\t\t\t\t})\n\t\t\t},\n\t\t\tupload() {\n\t\t\t\tlet url = this.picture;\n\t\t\t\tif(!this.judge_dynamic()) return;\n\t\t\t\tlet i = 0\n\t\t\t\tlet user_id = this.user_info.id\n\t\t\t\tlet count = 0\n\t\t\t\tthis.loadingHidden = false\n\t\t\t\tthis.upload_sysc([],url,i,user_id,count);//开始上传，递归调用\n\t\t\t},\n\t\t\tjudge_dynamic() {\n\t\t\t    let out = '';\n\t\t\t    if(!this.title){out = '没有输入标题\\n'}\n\t\t\t    if(!this.text){out = '没有输入内容\\n'}\n\t\t\t    if(!this.picture.length){out =  '没有选择图片'}\n\t\t\t   // if(this.data.is_picker == this.data.default_picker){out =  '没有选择标签'}\n\t\t\t    if(out){\n\t\t\t      uni.showToast({\n\t\t\t        icon:'error',\n\t\t\t        title: out,\n\t\t\t      })\n\t\t\t      return false;\n\t\t\t    }\n\t\t\t    return true;\n\t\t\t},\n\t\t\tupload_sysc(server_img_path,url,i,user_id,count) {\n\t\t\t\tconst that = this\n\t\t\t\tlet loacl_img_url = String(url[i]);\n\t\t\t\tuni.uploadFile({\n\t\t\t\t\tfilePath: loacl_img_url,\n\t\t\t\t\tname: 'file',\n\t\t\t\t\turl: 'https://travel.rykerfeng.cn/upload_img.php',\n\t\t\t\t\tformData: {\n\t\t\t\t\t\tuser_id: user_id\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tserver_img_path.push(res.data);\n\t\t\t\t\t\tif(res.data == 'upload fail') {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon:'error',\n\t\t\t\t\t\t\t\ttitle: '上传错误，请稍后再试',\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthat.loadingHidden = true\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('upload_sync')\n\t\t\t\t\t\t\tif(url[i+1] != undefined) {\n\t\t\t\t\t\t\t\tthat.upload_sysc(server_img_path,url,i+1,user_id,count+1) // 递归上传\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcount ++; // 在前面已经加总过了\n\t\t\t\t\t\t\t\tif(count === url.length) {\n\t\t\t\t\t\t\t\t\tconsole.log('upload_sync1')\n\t\t\t\t\t\t\t\t\tthat.add_to_mysql(server_img_path.join(','),user_id,that.title,that.text);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tconsole.log(\"upload fail\")\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.loadingHidden = true\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\tconsole.log(err, 'err')\n\t\t\t\t\t\tthat.loadingHidden = true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tadd_to_mysql(server_img_path,user_id,title,text) {\n\t\t\t\tconst that = this\n\t\t\t\tlet local = this.get_local()\n\t\t\t\tlet longitude= local.longitude;\n\t\t\t\tlet latitude = local.latitude;\n\t\t\t\tlet place_id = this.get_place_id(this.is_picker);\n\t\t\t\tlet title_img_size = this.title_img_size;\n\t\t\t\tlet mark_menu = this.is_picker;\n\t\t\t\tlet local_info = this.local_info;\n\t\t\t\tlet is_site_list = '';\n\t\t\t\tfor(const i in local_info){\n\t\t\t\t\tif(local_info[i].is_click){\n\t\t\t\t\t\tis_site_list= is_site_list+String(local_info[i].text)+',';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(this.diy_mark_text){\n\t\t\t\t\tis_site_list = is_site_list + this.diy_mark_text + ',';\n\t\t\t\t}\n\t\t\t\tis_site_list = is_site_list.slice(0, is_site_list.length-1);\n\t\t\t\tconsole.log('upload_sync2')\n\t\t\t\tconsole.log(server_img_path, user_id, title, text, longitude, latitude, place_id, title_img_size, mark_menu, is_site_list)\n\t\t\t\tthis.$api.change_mysql(server_img_path, user_id, title, text, longitude, latitude, place_id, title_img_size, mark_menu, is_site_list).then((res) => {\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\tif(res != 'add fail') {\n\t\t\t\t\t\tthat.is_upload_success = true\n\t\t\t\t\t}\n\t\t\t\t\tthat.reset_data()\n\t\t\t\t\t// this.onReady()\n\t\t\t\t\tconst dynamic_id = res\n\t\t\t\t\tuni.setStorageSync('go_dynamic_after_release', dynamic_id);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"发布成功\",\n\t\t\t\t\t\tduration: 300\n\t\t\t\t\t}) \n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\turl: '/pages/main/main'\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 300)\n\t\t\t\t\t// if()\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tget_local() {\n\t\t\t\tlet local =  uni.getStorageSync('local');\n\t\t\t\tlet longitude;\n\t\t\t\tlet latitude;\n\t\t\t\tif(local){\n\t\t\t\t\tlongitude = local.longitude,\n\t\t\t\t    latitude = local.latitude\n\t\t\t\t} \n\t\t\t\treturn{\n\t\t\t\t    longitude:longitude,\n\t\t\t\t    latitude:latitude\n\t\t\t\t}\n\t\t\t},\n\t\t\tget_place_id:function (is_picker) {\n\t\t\t    let i;\n\t\t\t    let place = this.place;\n\t\t\t    for(const i in place){\n\t\t\t      if(place[i].name == is_picker){\n\t\t\t        return place[i].id;\n\t\t\t      }\n\t\t\t    }\n\t\t\t    return 0;\n\t\t\t},\n\t\t\treset_data() {\n\t\t\t\tuni.setStorageSync('release_flag', true)\n\t\t\t\tthis.picture = []\n\t\t\t\tthis.img_is_no_full = true\n\t\t\t\tthis.loadingHidden = true\n\t\t\t\tthis.user_info = {}\n\t\t\t\tthis.title = ''\n\t\t\t\tthis.text = ''\n\t\t\t\tthis.title_img_size = ''\n\t\t\t\tthis.server_img_path = ''\n\t\t\t\tthis. is_upload_success = false\n\t\t\t\tthis.place = {}\n\t\t\t\tthis.picker = ['美食探店','特色产品','交通出行','民宿酒店','旅游景点']\n\t\t\t\tthis.default_picker = '美食探店'\n\t\t\t\tthis.is_picker = ''\n\t\t\t\tthis.local_info = {}\n\t\t\t\tthis.diy_mark_text = ''\n\t\t\t},\n\t\t\treset_choose_img() {\n\t\t\t\tthis.picture = []\n\t\t\t},\n\t\t},\n\t\tonReady() {\n\t\t\t// 要么有 要么为 空\n\t\t\tlet user_info = uni.getStorageSync('user_info')?uni.getStorageSync('user_info'):null\n\t\t\tif(!user_info) {\n\t\t\t\tconsole.log(\"未获取user_info内容\")\n\t\t\t}\n\t\t\tlet local_info = uni.getStorageSync(\"local_info\")\n\t\t\tfor(const i in local_info) {\n\t\t\t\tlocal_info[i] = {\n\t\t\t\t\ttext: local_info[i],\n\t\t\t\t\tis_click: false\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.local_info = local_info\n\t\t\tthis.user_info = user_info\n\t\t\tthis.getMark()\n\t\t}\n\t}\n</script>\n\n<style>\n/* pages/release/release/dynamic.wxss */\n.main{\n  width: 686rpx;\n  padding-left: 32rpx;\n  padding-right: 32rpx;\n}\ninput{\n  margin-bottom: 10rpx;\n}\n.title{\n  margin-top: 20rpx;\n  width: 100%;\n  height:80rpx;\n  font-size: 900;\n  font-weight: 900;\n}\n.dynamic_text{\n  padding-top: 20rpx;\n  width: 100%;\n  height: 300rpx;\n  text-align: start;\n}\n.reset_choose{\n  margin-top: 30rpx;\n  width: 100%;\n  text-align: center;\n  line-height: 100%;\n  color: #c4c4c4;\n}\n.reset_choose button{\n  /* margin-right: 20rpx; */\n  width:100%;\n}\n.picker{\n  padding-left: 0rpx;\n  margin-top: 10rpx;\n  margin-bottom: 10rpx;\n}\n.picker_text{\n  padding-top: 6rpx;\n  padding-bottom: 6rpx;\n  padding-left: 20rpx;\n  padding-right: 20rpx;\n  background-color:#956f31;\n  border-radius: 10rpx;\n}\n.mark{\n  width: 100%;\n  margin-top: 30rpx;\n  display: flex;\n  flex-direction: column;  \n}\n.topic{\n  margin-left: -30rpx;\n  width: 745rpx; \n}\n.topic_one_container{\n  width: 100%;\n  margin-top: 10rpx; \n  display: flex;\n}\n.topic_one{  \n  display: flex; \n  align-items: center;\n  font-size: 20rpx;\n  padding-left: 20rpx;\n  padding-right: 20rpx;\n  padding-top: 6rpx;\n  padding-bottom: 6rpx;\n  margin-left: 12rpx;\n  border: 1px solid #E5E5E5;\n  box-sizing: border-box;\n  border-radius: 36rpx;\n} \n.local{ \n    margin-left: -30rpx;\n    width: 745rpx;  \n}\n.local_one_container{ \n    width: 100%;\n    margin-top: 10rpx; \n    display: flex; \n}\n.local_one{ \n  display: flex; \n  align-items: center;\n  font-size: 20rpx;\n  padding-left: 20rpx;\n  padding-right: 20rpx;\n  padding-top: 6rpx;\n  padding-bottom: 6rpx;\n  margin-left: 12rpx;\n  border: 1px solid #E5E5E5;\n  box-sizing: border-box;\n  border-radius: 36rpx;\n} \n.mark_title{\n  margin-left: 10rpx;\n  padding: 10rpx 15rpx;\n  width: 150rpx;\n  background: #E5E5E5;\n  border-radius: 8px;\n  margin-bottom: 12rpx;\n  text-align: center;\n}\n.mark view{\n  display:flex;\n  flex-direction:row;\n  height:60rpx;\n}\n.mark_info{\n  display: flex;\n  flex-direction: row;\n}\n.recommend_text1 {  \n  display: flex;  \n  align-items: center;\n  justify-content: center;\n  height: 40rpx;\n  width: 120rpx; \n  border-radius: 8rpx;\n  background-color: #E5E5E5;\n  margin-left: 15rpx;\n  margin-right: 20rpx; \n  font-size: 20rpx; \n  /* identical to box height */   \n}\n.recommend_text2{  \n  display: flex;  \n  align-items: center;\n  justify-content: center;\n  height: 40rpx;\n  width: 120rpx; \n  border-radius: 8rpx;\n  background-color: #E5E5E5;\n  margin-left: 15rpx;\n  margin-right: 20rpx; \n  font-size: 20rpx; \n  margin-top: 20rpx;\n  /* identical to box height */    \n}\n.mark_one{\n  display: flex;\n  align-items: center;\n  font-size: 16rpx;\n  padding-left: 20rpx;\n  padding-right: 20rpx;\n  padding-top: 6rpx;\n  padding-bottom: 6rpx;\n  margin-left: 20rpx;\n  border: 1px solid #E5E5E5;\n  box-sizing: border-box;\n  border-radius: 36rpx;\n\n}\n.diy_mark_input{\n  width: 40%;\n  height: 100%;\n  margin-left: 148rpx;\n}\n.imageContainer{\n  margin-top: 10rpx;\n  margin-left: -20rpx;\n  width:720rpx\n}\n.nowImage{\n  margin-top: 10rpx;\n  margin-left: 10rpx;\n  margin-right: 10rpx;\n  width: 220rpx;\n  border-radius: 30rpx;\n  height: 220rpx;\n  /* border: 2rpx solid #c4c4c4; */\n}\n.add_img{\n  margin-top: 10rpx;\n  margin-left: 10rpx;\n  margin-right: 10rpx;\n  width: 220rpx;\n  border-radius: 30rpx;\n  height: 220rpx; \n}\n.finish{ \n  align-items: center;\n  margin-top: 50rpx;\n  display: flex;\n  padding-bottom: 20rpx;\n}\n.go_button{\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 400;\n  font-size: 32rpx;\n  color:white;\n  width: 560rpx;\n  height: 88rpx; \n  background: #956f31;\n  border-radius: 44rpx;\n}\n.draft{\n  margin-left: 50rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.draft text{\n  font-size: 20rpx;\n}\n.draft image{ \n  width: 50rpx;\n  height: 50rpx;\n}\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1673675542851\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}