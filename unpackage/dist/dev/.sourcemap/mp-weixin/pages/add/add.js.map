{"version":3,"sources":["uni-app:///main.js","webpack:///D:/imperialPalace/pages/add/add.vue?4393","webpack:///D:/imperialPalace/pages/add/add.vue?19b7","webpack:///D:/imperialPalace/pages/add/add.vue?9c5e","webpack:///D:/imperialPalace/pages/add/add.vue?491e","uni-app:///pages/add/add.vue","webpack:///D:/imperialPalace/pages/add/add.vue?074c","webpack:///D:/imperialPalace/pages/add/add.vue?b3d1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","picture","img_is_no_full","loadingHidden","user_info","title","text","title_img_size","server_img_path","is_upload_success","place","picker","default_picker","is_picker","local_info","diy_mark_text","mark","methods","getMark","res","console","set_title_img_size","click_topic","click_site","choose_img","uni","count","sizeType","sourceType","success","that","preview_img","urls","current","upload","judge_dynamic","out","icon","upload_sysc","filePath","name","url","formData","user_id","fail","add_to_mysql","is_site_list","duration","setTimeout","get_local","longitude","latitude","get_place_id","reset_data","reset_choose_img","onReady","is_click"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,YAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAChH;AACuD;AACL;AACa;;;AAG/D;AAC0L;AAC1L,gBAAgB,uMAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAmtB,CAAgB,+uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuCvuB;EACAC;IACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA;UACA;YACAC;UACA;UACA;QACA;UACAC;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;UACAT;QACA;MACA;MACA;IACA;IACAU;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;UACA;YACAC;UACA;UACA;UACA;YACA7B;UACA;UACA6B;QACA;MACA;IACA;IACAC;MACAN;QACAO;QACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAAC;MAAA;MACA;QAAAA;MAAA;MACA;QAAAA;MAAA;MACA;MACA;QACAX;UACAY;UACAhC;QACA;QACA;MACA;MACA;IACA;IACAiC;MACA;MACA;MACAb;QACAc;QACAC;QACAC;QACAC;UACAC;QACA;QACAd;UACArB;UACA;YACAiB;cACAY;cACAhC;YACA;YACAyB;YACA;UACA;YACAV;YACA;cACAU;YACA;cACAJ;cACA;gBACAN;gBACAU;cACA;gBACAV;cACA;cACAU;cACA;YACA;UACA;QACA;QACAc;UACAxB;UACAU;QACA;MACA;IACA;IACAe;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;QACAA;MACA;MACAA;MACA1B;MACAA;MACA;QACA;QACA;UACAU;QACA;QACAA;QACA;QACA;QACAL;QACAA;UACApB;UACA0C;QACA;QACAC;UACAvB;YACAgB;UACA;QACA;QACA;MACA;QACArB;MACA;IACA;IACA6B;MACA;MACA;MACA;MACA;QACAC,6BACAC;MACA;MACA;QACAD;QACAC;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;UACA;QACA;MACA;MACA;IACA;IACAC;MACA5B;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA6B;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;MACAnC;IACA;IACA;IACA;MACAN;QACAR;QACAkD;MACA;IACA;IACA;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5SA;AAAA;AAAA;AAAA;AAAohC,CAAgB,whCAAG,EAAC,C;;;;;;;;;;;ACAxiC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/add/add.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/add/add.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./add.vue?vue&type=template&id=f869476c&\"\nvar renderjs\nimport script from \"./add.vue?vue&type=script&lang=js&\"\nexport * from \"./add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/add/add.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=template&id=f869476c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"main\">\r\n\t\t<input class=\"title\" type=\"text\" placeholder=\"好的标题是点赞的开始~\" v-model=\"title\"/>\r\n\t\t<view style=\"width: 100%;height: 2rpx;background: #ead6ee;\"></view>\r\n\t\t<textarea type=\"text\" class=\"dynamic_text\" placeholder=\"添加正文\" v-model=\"text\"></textarea>\r\n\t\t<view>\r\n\t\t\t<view class=\"topic\">\r\n\t\t\t\t<view class=\"recommend_text1\"><view>添加话题</view></view>\r\n\t\t\t\t\t<view class=\"topic_one_container\">\r\n\t\t\t\t\t\t<text v-for=\"(item, index) in picker\" :key=\"index\" class=\"topic_one\" @click.stop=\"click_topic\" :style=\"{backgroundColor: (item==is_picker) ?'#fad396':''}\" :data-text=\"item\">\r\n\t\t\t\t\t\t\t#{{item}}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view> \r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"local\">\r\n\t\t\t\t<view class=\"recommend_text2\"><view>添加地点</view></view>\r\n\t\t\t\t\t<view class=\"local_one_container\">\r\n\t\t\t\t      <text v-for=\"(item, index) in local_info\" :key=\"index\" class=\"local_one\" @click.stop=\"click_site\" :style=\"{backgroundColor:item.is_click?'#fad396':'#00000000'}\" :data-text=\"item.text\">#{{item.text}}</text> \r\n\t\t\t\t    </view> \r\n\t\t\t</view>\r\n\t\t\t<view class=\"imageContainer\">\r\n\t\t\t    <image v-for=\"(item, index) in picture\" :key=\"id\" :src=\"item\" @click.stop=\"preview_img\" :id=\"item\" v-for-index=\"index\" @load=\"set_title_img_size\" :data-index=\"index\" class=\"nowImage\"></image>\r\n\t\t\t  <image v-if=\"img_is_no_full\" src=\"http://travel.rykerfeng.cn/wechatsoft/drawable/add_img.png\" @click.stop=\"choose_img\" class=\"add_img\"></image>\r\n\t\t\t  </view>\r\n\t\t\t  <view class=\"reset_choose\" @click=\"reset_choose_img\">重新选择图片</view>\r\n\t\t\t  <loading :hidden=\"loadingHidden\">正在上传...</loading>\r\n\t\t\t  <view class=\"finish\">\r\n\t\t\t    <view @click=\"upload\" class=\"go_button\">发布帖子</view>\r\n\t\t\t    <view class=\"draft\">\r\n\t\t\t      <image src=\"http://travel.rykerfeng.cn/wechatsoft/drawable/draft.png\"></image>\r\n\t\t\t      <text>存草稿</text>\r\n\t\t\t    </view>\r\n\t\t\t  </view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//照片在本地显示的路径\r\n\t\t\t\tpicture:[],\r\n\t\t\t\t//照片是否满9张了\r\n\t\t\t\timg_is_no_full:true,\r\n\t\t\t\t//是否隐藏加载中动画\r\n\t\t\t\tloadingHidden:true,\r\n\t\t\t\t//用户信息\r\n\t\t\t\tuser_info:Object,\r\n\t\t\t\t//标题信息\r\n\t\t\t\ttitle:'',\r\n\t\t\t\t//文本信息\r\n\t\t\t\ttext:'',\r\n\t\t\t\ttitle_img_size:'',\r\n\t\t\t\t//图片在服务器上的地址\r\n\t\t\t\tserver_img_path:[],\r\n\t\t\t\t//是否上传成功\r\n\t\t\t\tis_upload_success:false,\r\n\t\t\t\t//景点信息\r\n\t\t\t\tplace:Object,\r\n\t\t\t\t//滑动选择器的选项\r\n\t\t\t\tpicker:['美食探店','特色产品','交通出行','民宿酒店','旅游景点'],\r\n\t\t\t\t//滑动选择器显示的内容\r\n\t\t\t\tdefault_picker:'美食探店',\r\n\t\t\t\tis_picker:'美食探店',\r\n\t\t\t\tlocal_info:Object,\r\n\t\t\t\t// hidden_diy_mark:true,\r\n\t\t\t\tdiy_mark_text:'',\r\n\t\t\t\tmark: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetMark() {\r\n\t\t\t\tthis.$api.get_mark().then((res) => {\r\n\t\t\t\t\tif(res) {\r\n\t\t\t\t\t\tfor(const i in res) {\r\n\t\t\t\t\t\t\tres[i].is_click = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.mark = res\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"获取标签信息错误\")\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tset_title_img_size(e) {\r\n\t\t\t\tif(e.target.dataset.index == 0){\r\n\t\t\t\t      let title_img_size = String(e.detail.width)+','+String(e.detail.height);\r\n\t\t\t\t      this.title_img_size = title_img_size\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 挑选颜色\r\n\t\t\tclick_topic(e) {\r\n\t\t\t\tthis.is_picker = e.target.dataset.text\r\n\t\t\t},\r\n\t\t\tclick_site(e) {\r\n\t\t\t\tconst local_info = this.local_info;\r\n\t\t\t\tfor(const i in local_info){\r\n\t\t\t\t    if(local_info[i].text == e.target.dataset.text){\r\n\t\t\t\t\t\tlocal_info[i].is_click = !local_info[i].is_click;\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t\tthis.local_info = local_info\r\n\t\t\t},\r\n\t\t\tchoose_img() {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 9,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album'],\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif(res.tempFilePaths.length>=9) {\r\n\t\t\t\t\t\t\tthat.img_is_no_full = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst picture = that.picture\r\n\t\t\t\t\t\tfor(const i in res.tempFilePaths) {\r\n\t\t\t\t\t\t\tpicture.push(res.tempFilePaths[i])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.picture = picture\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tpreview_img(e) {\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\turls: this.picture,\r\n\t\t\t\t\tcurrent:e.currentTarget.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupload() {\r\n\t\t\t\tlet url = this.picture;\r\n\t\t\t\tif(!this.judge_dynamic()) return;\r\n\t\t\t\tlet i = 0\r\n\t\t\t\tlet user_id = this.user_info.id\r\n\t\t\t\tlet count = 0\r\n\t\t\t\tthis.loadingHidden = false\r\n\t\t\t\tthis.upload_sysc([],url,i,user_id,count);//开始上传，递归调用\r\n\t\t\t},\r\n\t\t\tjudge_dynamic() {\r\n\t\t\t    let out = '';\r\n\t\t\t    if(!this.title){out = '没有输入标题\\n'}\r\n\t\t\t    if(!this.text){out = '没有输入内容\\n'}\r\n\t\t\t    if(!this.picture.length){out =  '没有选择图片'}\r\n\t\t\t   // if(this.data.is_picker == this.data.default_picker){out =  '没有选择标签'}\r\n\t\t\t    if(out){\r\n\t\t\t      uni.showToast({\r\n\t\t\t        icon:'error',\r\n\t\t\t        title: out,\r\n\t\t\t      })\r\n\t\t\t      return false;\r\n\t\t\t    }\r\n\t\t\t    return true;\r\n\t\t\t},\r\n\t\t\tupload_sysc(server_img_path,url,i,user_id,count) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tlet loacl_img_url = String(url[i]);\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\tfilePath: loacl_img_url,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\turl: 'https://travel.rykerfeng.cn/upload_img.php',\r\n\t\t\t\t\tformData: {\r\n\t\t\t\t\t\tuser_id: user_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tserver_img_path.push(res.data);\r\n\t\t\t\t\t\tif(res.data == 'upload fail') {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon:'error',\r\n\t\t\t\t\t\t\t\ttitle: '上传错误，请稍后再试',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.loadingHidden = true\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log('upload_sync')\r\n\t\t\t\t\t\t\tif(url[i+1] != undefined) {\r\n\t\t\t\t\t\t\t\tthat.upload_sysc(server_img_path,url,i+1,user_id,count+1) // 递归上传\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcount ++; // 在前面已经加总过了\r\n\t\t\t\t\t\t\t\tif(count === url.length) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('upload_sync1')\r\n\t\t\t\t\t\t\t\t\tthat.add_to_mysql(server_img_path.join(','),user_id,that.title,that.text);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"upload fail\")\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tthat.loadingHidden = true\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err, 'err')\r\n\t\t\t\t\t\tthat.loadingHidden = true\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tadd_to_mysql(server_img_path,user_id,title,text) {\r\n\t\t\t\tconst that = this\r\n\t\t\t\tlet local = this.get_local()\r\n\t\t\t\tlet longitude= local.longitude;\r\n\t\t\t\tlet latitude = local.latitude;\r\n\t\t\t\tlet place_id = this.get_place_id(this.is_picker);\r\n\t\t\t\tlet title_img_size = this.title_img_size;\r\n\t\t\t\tlet mark_menu = this.is_picker;\r\n\t\t\t\tlet local_info = this.local_info;\r\n\t\t\t\tlet is_site_list = '';\r\n\t\t\t\tfor(const i in local_info){\r\n\t\t\t\t\tif(local_info[i].is_click){\r\n\t\t\t\t\t\tis_site_list= is_site_list+String(local_info[i].text)+',';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this.diy_mark_text){\r\n\t\t\t\t\tis_site_list = is_site_list + this.diy_mark_text + ',';\r\n\t\t\t\t}\r\n\t\t\t\tis_site_list = is_site_list.slice(0, is_site_list.length-1);\r\n\t\t\t\tconsole.log('upload_sync2')\r\n\t\t\t\tconsole.log(server_img_path, user_id, title, text, longitude, latitude, place_id, title_img_size, mark_menu, is_site_list)\r\n\t\t\t\tthis.$api.change_mysql(server_img_path, user_id, title, text, longitude, latitude, place_id, title_img_size, mark_menu, is_site_list).then((res) => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tif(res != 'add fail') {\r\n\t\t\t\t\t\tthat.is_upload_success = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.reset_data()\r\n\t\t\t\t\t// this.onReady()\r\n\t\t\t\t\tconst dynamic_id = res\r\n\t\t\t\t\tuni.setStorageSync('go_dynamic_after_release', dynamic_id);\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"发布成功\",\r\n\t\t\t\t\t\tduration: 300\r\n\t\t\t\t\t}) \r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\turl: '/pages/main/main'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 300)\r\n\t\t\t\t\t// if()\r\n\t\t\t\t}, (err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tget_local() {\r\n\t\t\t\tlet local =  uni.getStorageSync('local');\r\n\t\t\t\tlet longitude;\r\n\t\t\t\tlet latitude;\r\n\t\t\t\tif(local){\r\n\t\t\t\t\tlongitude = local.longitude,\r\n\t\t\t\t    latitude = local.latitude\r\n\t\t\t\t} \r\n\t\t\t\treturn{\r\n\t\t\t\t    longitude:longitude,\r\n\t\t\t\t    latitude:latitude\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tget_place_id:function (is_picker) {\r\n\t\t\t    let i;\r\n\t\t\t    let place = this.place;\r\n\t\t\t    for(const i in place){\r\n\t\t\t      if(place[i].name == is_picker){\r\n\t\t\t        return place[i].id;\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t    return 0;\r\n\t\t\t},\r\n\t\t\treset_data() {\r\n\t\t\t\tuni.setStorageSync('release_flag', true)\r\n\t\t\t\tthis.picture = []\r\n\t\t\t\tthis.img_is_no_full = true\r\n\t\t\t\tthis.loadingHidden = true\r\n\t\t\t\tthis.user_info = {}\r\n\t\t\t\tthis.title = ''\r\n\t\t\t\tthis.text = ''\r\n\t\t\t\tthis.title_img_size = ''\r\n\t\t\t\tthis.server_img_path = ''\r\n\t\t\t\tthis. is_upload_success = false\r\n\t\t\t\tthis.place = {}\r\n\t\t\t\tthis.picker = ['美食探店','特色产品','交通出行','民宿酒店','旅游景点']\r\n\t\t\t\tthis.default_picker = '美食探店'\r\n\t\t\t\tthis.is_picker = ''\r\n\t\t\t\tthis.local_info = {}\r\n\t\t\t\tthis.diy_mark_text = ''\r\n\t\t\t},\r\n\t\t\treset_choose_img() {\r\n\t\t\t\tthis.picture = []\r\n\t\t\t},\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// 要么有 要么为 空\r\n\t\t\tlet user_info = uni.getStorageSync('user_info')?uni.getStorageSync('user_info'):null\r\n\t\t\tif(!user_info) {\r\n\t\t\t\tconsole.log(\"未获取user_info内容\")\r\n\t\t\t}\r\n\t\t\tlet local_info = uni.getStorageSync(\"local_info\")\r\n\t\t\tfor(const i in local_info) {\r\n\t\t\t\tlocal_info[i] = {\r\n\t\t\t\t\ttext: local_info[i],\r\n\t\t\t\t\tis_click: false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.local_info = local_info\r\n\t\t\tthis.user_info = user_info\r\n\t\t\tthis.getMark()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n/* pages/release/release/dynamic.wxss */\r\n.main{\r\n  width: 686rpx;\r\n  padding-left: 32rpx;\r\n  padding-right: 32rpx;\r\n}\r\ninput{\r\n  margin-bottom: 10rpx;\r\n}\r\n.title{\r\n  margin-top: 20rpx;\r\n  width: 100%;\r\n  height:80rpx;\r\n  font-size: 900;\r\n  font-weight: 900;\r\n}\r\n.dynamic_text{\r\n  padding-top: 20rpx;\r\n  width: 100%;\r\n  height: 300rpx;\r\n  text-align: start;\r\n}\r\n.reset_choose{\r\n  margin-top: 30rpx;\r\n  width: 100%;\r\n  text-align: center;\r\n  line-height: 100%;\r\n  color: #c4c4c4;\r\n}\r\n.reset_choose button{\r\n  /* margin-right: 20rpx; */\r\n  width:100%;\r\n}\r\n.picker{\r\n  padding-left: 0rpx;\r\n  margin-top: 10rpx;\r\n  margin-bottom: 10rpx;\r\n}\r\n.picker_text{\r\n  padding-top: 6rpx;\r\n  padding-bottom: 6rpx;\r\n  padding-left: 20rpx;\r\n  padding-right: 20rpx;\r\n  background-color:#956f31;\r\n  border-radius: 10rpx;\r\n}\r\n.mark{\r\n  width: 100%;\r\n  margin-top: 30rpx;\r\n  display: flex;\r\n  flex-direction: column;  \r\n}\r\n.topic{\r\n  margin-left: -30rpx;\r\n  width: 745rpx; \r\n}\r\n.topic_one_container{\r\n  width: 100%;\r\n  margin-top: 10rpx; \r\n  display: flex;\r\n}\r\n.topic_one{  \r\n  display: flex; \r\n  align-items: center;\r\n  font-size: 20rpx;\r\n  padding-left: 20rpx;\r\n  padding-right: 20rpx;\r\n  padding-top: 6rpx;\r\n  padding-bottom: 6rpx;\r\n  margin-left: 12rpx;\r\n  border: 1px solid #E5E5E5;\r\n  box-sizing: border-box;\r\n  border-radius: 36rpx;\r\n} \r\n.local{ \r\n    margin-left: -30rpx;\r\n    width: 745rpx;  \r\n}\r\n.local_one_container{ \r\n    width: 100%;\r\n    margin-top: 10rpx; \r\n    display: flex; \r\n}\r\n.local_one{ \r\n  display: flex; \r\n  align-items: center;\r\n  font-size: 20rpx;\r\n  padding-left: 20rpx;\r\n  padding-right: 20rpx;\r\n  padding-top: 6rpx;\r\n  padding-bottom: 6rpx;\r\n  margin-left: 12rpx;\r\n  border: 1px solid #E5E5E5;\r\n  box-sizing: border-box;\r\n  border-radius: 36rpx;\r\n} \r\n.mark_title{\r\n  margin-left: 10rpx;\r\n  padding: 10rpx 15rpx;\r\n  width: 150rpx;\r\n  background: #E5E5E5;\r\n  border-radius: 8px;\r\n  margin-bottom: 12rpx;\r\n  text-align: center;\r\n}\r\n.mark view{\r\n  display:flex;\r\n  flex-direction:row;\r\n  height:60rpx;\r\n}\r\n.mark_info{\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.recommend_text1 {  \r\n  display: flex;  \r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 40rpx;\r\n  width: 120rpx; \r\n  border-radius: 8rpx;\r\n  background-color: #E5E5E5;\r\n  margin-left: 15rpx;\r\n  margin-right: 20rpx; \r\n  font-size: 20rpx; \r\n  /* identical to box height */   \r\n}\r\n.recommend_text2{  \r\n  display: flex;  \r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 40rpx;\r\n  width: 120rpx; \r\n  border-radius: 8rpx;\r\n  background-color: #E5E5E5;\r\n  margin-left: 15rpx;\r\n  margin-right: 20rpx; \r\n  font-size: 20rpx; \r\n  margin-top: 20rpx;\r\n  /* identical to box height */    \r\n}\r\n.mark_one{\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 16rpx;\r\n  padding-left: 20rpx;\r\n  padding-right: 20rpx;\r\n  padding-top: 6rpx;\r\n  padding-bottom: 6rpx;\r\n  margin-left: 20rpx;\r\n  border: 1px solid #E5E5E5;\r\n  box-sizing: border-box;\r\n  border-radius: 36rpx;\r\n\r\n}\r\n.diy_mark_input{\r\n  width: 40%;\r\n  height: 100%;\r\n  margin-left: 148rpx;\r\n}\r\n.imageContainer{\r\n  margin-top: 10rpx;\r\n  margin-left: -20rpx;\r\n  width:720rpx\r\n}\r\n.nowImage{\r\n  margin-top: 10rpx;\r\n  margin-left: 10rpx;\r\n  margin-right: 10rpx;\r\n  width: 220rpx;\r\n  border-radius: 30rpx;\r\n  height: 220rpx;\r\n  /* border: 2rpx solid #c4c4c4; */\r\n}\r\n.add_img{\r\n  margin-top: 10rpx;\r\n  margin-left: 10rpx;\r\n  margin-right: 10rpx;\r\n  width: 220rpx;\r\n  border-radius: 30rpx;\r\n  height: 220rpx; \r\n}\r\n.finish{ \r\n  align-items: center;\r\n  margin-top: 50rpx;\r\n  display: flex;\r\n  padding-bottom: 20rpx;\r\n}\r\n.go_button{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 400;\r\n  font-size: 32rpx;\r\n  color:white;\r\n  width: 560rpx;\r\n  height: 88rpx; \r\n  background: #956f31;\r\n  border-radius: 44rpx;\r\n}\r\n.draft{\r\n  margin-left: 50rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n.draft text{\r\n  font-size: 20rpx;\r\n}\r\n.draft image{ \r\n  width: 50rpx;\r\n  height: 50rpx;\r\n}\r\n</style>\r\n","import mod from \"-!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./add.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1674486569593\n      var cssReload = require(\"D:/HBuilderX.3.6.14.20221215/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}